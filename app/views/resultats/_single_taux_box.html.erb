<% suffix ||= nil %>
<% max ||= nil %>

<div class="data-container rounded shadow col-12 p-0 overflow-hidden d-flex flex-column flex-grow-1">
  <div class="data-intit bg-light text-center p-3"><%= indicateur_clean indicateur %></div>
  <div class="data-cont bg-white m-0 p-2">
    <div class="d-flex">
      <%= single_value_pie_chart evaluation.indicateurs_list[indicateur], suffix: suffix, max: max %>
    </div>
    <div class="mt-5">
      <% if current_user.organisation.objectifs_list.present? and current_user.organisation.objectifs_list.indicateurs_list[indicateur].present? %>
        <% complete = (evaluation.indicateurs_list[indicateur] / current_user.organisation.objectifs_list.indicateurs_list[indicateur] * 100).round(1) %>
        <p>Objectif <span class="vanilla fw-bold text-success">(<%= current_user.organisation.objectifs_list.indicateurs_list[indicateur] %>%)</span> atteint Ã  : </p>
        <div class="progress" style="height: 30px">
          <div class="progress-bar <%= "complete" unless complete < 100 %>" role="progressbar" style="width: <%= complete %>%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"><%= complete %>%</div>
        </div>
      <% end %>
    </div>
  </div>
</div>
