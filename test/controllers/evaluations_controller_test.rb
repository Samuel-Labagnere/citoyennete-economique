require "test_helper"

class EvaluationsControllerTest < ActionDispatch::IntegrationTest
  setup do
    @evaluation = evaluations(:one)
  end

  test "should get index" do
    get evaluations_url
    assert_response :success
  end

  test "should get new" do
    get new_evaluation_url
    assert_response :success
  end

  test "should create evaluation" do
    assert_difference("Evaluation.count") do
      post evaluations_url, params: { evaluation: { annee: @evaluation.annee, impact_engagement_demarche_ethique_fournisseurs: @evaluation.impact_engagement_demarche_ethique_fournisseurs, impact_engagement_part_impots_france: @evaluation.impact_engagement_part_impots_france, impact_engagement_part_placements_responsables: @evaluation.impact_engagement_part_placements_responsables, impact_engagement_part_resultat_missions_utiles: @evaluation.impact_engagement_part_resultat_missions_utiles, impact_environnement_audit_impact: @evaluation.impact_environnement_audit_impact, impact_environnement_bilan_carbone_scope_1: @evaluation.impact_environnement_bilan_carbone_scope_1, impact_environnement_bilan_carbone_scope_2: @evaluation.impact_environnement_bilan_carbone_scope_2, impact_environnement_bilan_carbone_scope_3: @evaluation.impact_environnement_bilan_carbone_scope_3, impact_environnement_demarche_ecologique: @evaluation.impact_environnement_demarche_ecologique, impact_environnement_discussion_impact: @evaluation.impact_environnement_discussion_impact, impact_environnement_part_energies_renouvelables: @evaluation.impact_environnement_part_energies_renouvelables, impact_environnement_part_salaries_mobilite: @evaluation.impact_environnement_part_salaries_mobilite, impact_estimation_realite: @evaluation.impact_estimation_realite, impact_social_alternance_apprentissage: @evaluation.impact_social_alternance_apprentissage, impact_social_part_activite_structures_insertion: @evaluation.impact_social_part_activite_structures_insertion, impact_social_part_handicap: @evaluation.impact_social_part_handicap, impact_social_part_seniors: @evaluation.impact_social_part_seniors, pouvoir_democratie_accords_signes: @evaluation.pouvoir_democratie_accords_signes, pouvoir_democratie_nombre_accords_signes: @evaluation.pouvoir_democratie_nombre_accords_signes, pouvoir_democratie_nombre_reunions: @evaluation.pouvoir_democratie_nombre_reunions, pouvoir_democratie_taux_participation_formations: @evaluation.pouvoir_democratie_taux_participation_formations, pouvoir_estimation_realite: @evaluation.pouvoir_estimation_realite, pouvoir_gouvernance_diversite_categories: @evaluation.pouvoir_gouvernance_diversite_categories, pouvoir_gouvernance_part_femmes_conseil: @evaluation.pouvoir_gouvernance_part_femmes_conseil, pouvoir_gouvernance_part_salaries_associes: @evaluation.pouvoir_gouvernance_part_salaries_associes, pouvoir_gouvernance_part_salaries_conseil: @evaluation.pouvoir_gouvernance_part_salaries_conseil, pouvoir_gouvernance_taux_societariat_femmes: @evaluation.pouvoir_gouvernance_taux_societariat_femmes, pouvoir_strategique_actifs_total: @evaluation.pouvoir_strategique_actifs_total, pouvoir_strategique_taux_presence_assemblee: @evaluation.pouvoir_strategique_taux_presence_assemblee, qualite_emancipation_moyenne_heures_formation: @evaluation.qualite_emancipation_moyenne_heures_formation, qualite_emancipation_taux_budget_formation_masse_salariale: @evaluation.qualite_emancipation_taux_budget_formation_masse_salariale, qualite_emancipation_taux_direction_promotion_interne: @evaluation.qualite_emancipation_taux_direction_promotion_interne, qualite_estimation_realite: @evaluation.qualite_estimation_realite, qualite_qvt_enquete_qvt: @evaluation.qualite_qvt_enquete_qvt, qualite_qvt_moyenne_anciennete: @evaluation.qualite_qvt_moyenne_anciennete, qualite_qvt_part_cdi: @evaluation.qualite_qvt_part_cdi, qualite_qvt_taux_absenteisme: @evaluation.qualite_qvt_taux_absenteisme, qualite_qvt_taux_qvt: @evaluation.qualite_qvt_taux_qvt, qualite_qvt_taux_turnover: @evaluation.qualite_qvt_taux_turnover, valeur_estimation_realite: @evaluation.valeur_estimation_realite, valeur_partage_ecart_revenus_hauts_bas: @evaluation.valeur_partage_ecart_revenus_hauts_bas, valeur_partage_existence_accord: @evaluation.valeur_partage_existence_accord, valeur_partage_existence_epargne_salariale: @evaluation.valeur_partage_existence_epargne_salariale, valeur_partage_existence_grille_salariale: @evaluation.valeur_partage_existence_grille_salariale, valeur_partage_index_egalite_homme_femme: @evaluation.valeur_partage_index_egalite_homme_femme, valeur_partage_part_resultat_net_actionnaires: @evaluation.valeur_partage_part_resultat_net_actionnaires, valeur_partage_part_resultat_salaries: @evaluation.valeur_partage_part_resultat_salaries, valeur_partage_publicite_grille: @evaluation.valeur_partage_publicite_grille, valeur_perennite_attention_questions_innovation: @evaluation.valeur_perennite_attention_questions_innovation, valeur_perennite_ebe_caht: @evaluation.valeur_perennite_ebe_caht, valeur_perennite_existence_reserve: @evaluation.valeur_perennite_existence_reserve, valeur_perennite_part_capital_salaries: @evaluation.valeur_perennite_part_capital_salaries, valeur_perennite_part_endettement: @evaluation.valeur_perennite_part_endettement, valeur_perennite_part_resultat_reserve: @evaluation.valeur_perennite_part_resultat_reserve, valeur_perennite_reserve_impartageable: @evaluation.valeur_perennite_reserve_impartageable } }
    end

    assert_redirected_to evaluation_url(Evaluation.last)
  end

  test "should show evaluation" do
    get evaluation_url(@evaluation)
    assert_response :success
  end

  test "should get edit" do
    get edit_evaluation_url(@evaluation)
    assert_response :success
  end

  test "should update evaluation" do
    patch evaluation_url(@evaluation), params: { evaluation: { annee: @evaluation.annee, impact_engagement_demarche_ethique_fournisseurs: @evaluation.impact_engagement_demarche_ethique_fournisseurs, impact_engagement_part_impots_france: @evaluation.impact_engagement_part_impots_france, impact_engagement_part_placements_responsables: @evaluation.impact_engagement_part_placements_responsables, impact_engagement_part_resultat_missions_utiles: @evaluation.impact_engagement_part_resultat_missions_utiles, impact_environnement_audit_impact: @evaluation.impact_environnement_audit_impact, impact_environnement_bilan_carbone_scope_1: @evaluation.impact_environnement_bilan_carbone_scope_1, impact_environnement_bilan_carbone_scope_2: @evaluation.impact_environnement_bilan_carbone_scope_2, impact_environnement_bilan_carbone_scope_3: @evaluation.impact_environnement_bilan_carbone_scope_3, impact_environnement_demarche_ecologique: @evaluation.impact_environnement_demarche_ecologique, impact_environnement_discussion_impact: @evaluation.impact_environnement_discussion_impact, impact_environnement_part_energies_renouvelables: @evaluation.impact_environnement_part_energies_renouvelables, impact_environnement_part_salaries_mobilite: @evaluation.impact_environnement_part_salaries_mobilite, impact_estimation_realite: @evaluation.impact_estimation_realite, impact_social_alternance_apprentissage: @evaluation.impact_social_alternance_apprentissage, impact_social_part_activite_structures_insertion: @evaluation.impact_social_part_activite_structures_insertion, impact_social_part_handicap: @evaluation.impact_social_part_handicap, impact_social_part_seniors: @evaluation.impact_social_part_seniors, pouvoir_democratie_accords_signes: @evaluation.pouvoir_democratie_accords_signes, pouvoir_democratie_nombre_accords_signes: @evaluation.pouvoir_democratie_nombre_accords_signes, pouvoir_democratie_nombre_reunions: @evaluation.pouvoir_democratie_nombre_reunions, pouvoir_democratie_taux_participation_formations: @evaluation.pouvoir_democratie_taux_participation_formations, pouvoir_estimation_realite: @evaluation.pouvoir_estimation_realite, pouvoir_gouvernance_diversite_categories: @evaluation.pouvoir_gouvernance_diversite_categories, pouvoir_gouvernance_part_femmes_conseil: @evaluation.pouvoir_gouvernance_part_femmes_conseil, pouvoir_gouvernance_part_salaries_associes: @evaluation.pouvoir_gouvernance_part_salaries_associes, pouvoir_gouvernance_part_salaries_conseil: @evaluation.pouvoir_gouvernance_part_salaries_conseil, pouvoir_gouvernance_taux_societariat_femmes: @evaluation.pouvoir_gouvernance_taux_societariat_femmes, pouvoir_strategique_actifs_total: @evaluation.pouvoir_strategique_actifs_total, pouvoir_strategique_taux_presence_assemblee: @evaluation.pouvoir_strategique_taux_presence_assemblee, qualite_emancipation_moyenne_heures_formation: @evaluation.qualite_emancipation_moyenne_heures_formation, qualite_emancipation_taux_budget_formation_masse_salariale: @evaluation.qualite_emancipation_taux_budget_formation_masse_salariale, qualite_emancipation_taux_direction_promotion_interne: @evaluation.qualite_emancipation_taux_direction_promotion_interne, qualite_estimation_realite: @evaluation.qualite_estimation_realite, qualite_qvt_enquete_qvt: @evaluation.qualite_qvt_enquete_qvt, qualite_qvt_moyenne_anciennete: @evaluation.qualite_qvt_moyenne_anciennete, qualite_qvt_part_cdi: @evaluation.qualite_qvt_part_cdi, qualite_qvt_taux_absenteisme: @evaluation.qualite_qvt_taux_absenteisme, qualite_qvt_taux_qvt: @evaluation.qualite_qvt_taux_qvt, qualite_qvt_taux_turnover: @evaluation.qualite_qvt_taux_turnover, valeur_estimation_realite: @evaluation.valeur_estimation_realite, valeur_partage_ecart_revenus_hauts_bas: @evaluation.valeur_partage_ecart_revenus_hauts_bas, valeur_partage_existence_accord: @evaluation.valeur_partage_existence_accord, valeur_partage_existence_epargne_salariale: @evaluation.valeur_partage_existence_epargne_salariale, valeur_partage_existence_grille_salariale: @evaluation.valeur_partage_existence_grille_salariale, valeur_partage_index_egalite_homme_femme: @evaluation.valeur_partage_index_egalite_homme_femme, valeur_partage_part_resultat_net_actionnaires: @evaluation.valeur_partage_part_resultat_net_actionnaires, valeur_partage_part_resultat_salaries: @evaluation.valeur_partage_part_resultat_salaries, valeur_partage_publicite_grille: @evaluation.valeur_partage_publicite_grille, valeur_perennite_attention_questions_innovation: @evaluation.valeur_perennite_attention_questions_innovation, valeur_perennite_ebe_caht: @evaluation.valeur_perennite_ebe_caht, valeur_perennite_existence_reserve: @evaluation.valeur_perennite_existence_reserve, valeur_perennite_part_capital_salaries: @evaluation.valeur_perennite_part_capital_salaries, valeur_perennite_part_endettement: @evaluation.valeur_perennite_part_endettement, valeur_perennite_part_resultat_reserve: @evaluation.valeur_perennite_part_resultat_reserve, valeur_perennite_reserve_impartageable: @evaluation.valeur_perennite_reserve_impartageable } }
    assert_redirected_to evaluation_url(@evaluation)
  end

  test "should destroy evaluation" do
    assert_difference("Evaluation.count", -1) do
      delete evaluation_url(@evaluation)
    end

    assert_redirected_to evaluations_url
  end
end
